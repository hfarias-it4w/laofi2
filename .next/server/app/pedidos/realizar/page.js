(()=>{var a={};a.id=288,a.ids=[288],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16800:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hernandofarias/Code/it4w/laofi-new/laofi2/src/app/pedidos/realizar/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hernandofarias/Code/it4w/laofi-new/laofi2/src/app/pedidos/realizar/page.tsx","default")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:a=>{"use strict";a.exports=require("os")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},34631:a=>{"use strict";a.exports=require("tls")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:a=>{"use strict";a.exports=require("zlib")},77693:(a,b,c)=>{Promise.resolve().then(c.bind(c,16800))},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},81630:a=>{"use strict";a.exports=require("http")},82564:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m});var d=c(60687),e=c(30474),f=c(43210),g=c(82136),h=c(69587),i=c(22729),j=c(90296);let k=[{value:"mercadopago",label:"Mercado Pago",helper:"Pago online con link seguro",badge:"Link directo",icon:function(a){return(0,j.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.0049 2L18.3032 4.28071C18.7206 4.41117 19.0049 4.79781 19.0049 5.23519V7H21.0049C21.5572 7 22.0049 7.44772 22.0049 8V16C22.0049 16.5523 21.5572 17 21.0049 17L17.7848 17.0011C17.3982 17.5108 16.9276 17.9618 16.3849 18.3318L11.0049 22L5.62486 18.3318C3.98563 17.2141 3.00488 15.3584 3.00488 13.3744V5.23519C3.00488 4.79781 3.28913 4.41117 3.70661 4.28071L11.0049 2ZM11.0049 4.094L5.00488 5.97V13.3744C5.00488 14.6193 5.58406 15.7884 6.56329 16.5428L6.75154 16.6793L11.0049 19.579L14.7869 17H10.0049C9.4526 17 9.00488 16.5523 9.00488 16V8C9.00488 7.44772 9.4526 7 10.0049 7H17.0049V5.97L11.0049 4.094ZM11.0049 12V15H20.0049V12H11.0049ZM11.0049 10H20.0049V9H11.0049V10Z"},child:[]}]})(a)}},{value:"efectivo",label:"Efectivo",helper:"10% off abonando en recepci\xf3n",badge:"Descuento 10%",icon:h.MxO}],l=a=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(a);function m(){let{data:a}=(0,g.useSession)(),b=(0,f.useRef)(null),[c,j]=(0,f.useState)(""),[m,n]=(0,f.useState)(1),[o,p]=(0,f.useState)("mercadopago"),[q,r]=(0,f.useState)(null),[s,t]=(0,f.useState)([]),[u,v]=(0,f.useState)(!0),[w,x]=(0,f.useState)(!1),[y,z]=(0,f.useState)(null),[A,B]=(0,f.useState)(""),C=(0,f.useMemo)(()=>{if(!y)return{precioUnitario:0,precioConDescuento:0,total:0,totalConDescuento:0};let a=y.price,b="efectivo"===o,c=a*m;return{precioUnitario:a,precioConDescuento:b?.9*a:a,total:c,totalConDescuento:b?.9*c:c}},[y,m,o]),D=async a=>{if(a.preventDefault(),!c)return void r("Seleccion\xe1 un producto antes de continuar.");let d=s.find(a=>a._id===c);if(!d)return void r("No encontramos ese producto. Actualiz\xe1 la p\xe1gina e intent\xe1 nuevamente.");let e="efectivo"===o,f=d.price,g=e?.9*f:f,h=[{producto:d._id,nombre:d.name,cantidad:m,precio:Number(g.toFixed(2))}],i=m*g;if("mercadopago"===o){try{let a=`${d._id}-${Date.now()}`,b=await fetch("/api/mercado-pago/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productos:h,external_reference:a})}),c=await b.json();if(!b.ok||!c.preference||!c.preference.init_point)return void r(c&&(c.error||c.message||JSON.stringify(c))||"Error al crear preferencia de pago");r(null),window.location.href=c.preference.init_point}catch(a){r("Error al conectar con Mercado Pago: "+(a instanceof Error?a.message:String(a)))}return}let j={productos:h,metodoPago:o,total:i};A.trim()&&(j.comentarios=A.trim());let k=await fetch("/api/pedidos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});k.ok?(n(1),x(!1),B(""),b.current&&(b.current.currentTime=0,b.current.play()),r(null),setTimeout(()=>{window.location.href="pedido-exitoso"},400)):r((await k.json().catch(()=>({}))).message||"No pudimos guardar tu pedido. Intent\xe1 nuevamente en unos segundos.")};return(0,d.jsxs)("div",{className:"min-h-screen bg-neutral-50 text-neutral-900",children:[(0,d.jsx)("audio",{ref:b,src:"/positive-notification.wav",preload:"auto"}),(0,d.jsx)("section",{className:"border-b border-neutral-200 bg-white/70 backdrop-blur",children:(0,d.jsxs)("div",{className:"mx-auto flex max-w-screen-lg flex-col gap-6 px-6 py-12 md:flex-row md:items-center",children:[(0,d.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,d.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-[#fae79a] px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-neutral-900",children:[(0,d.jsx)(i.Hpk,{className:"h-4 w-4"})," Ped\xed tu caf\xe9"]}),(0,d.jsx)("h1",{className:"text-4xl font-black uppercase leading-tight md:text-5xl",children:"Tu caf\xe9 favorito llega directo a tu escritorio"}),(0,d.jsx)("p",{className:"max-w-xl text-neutral-600",children:"Eleg\xed el producto, defin\xed la cantidad y pag\xe1 como prefieras. Cuando confirm\xe1s tu pedido, recepci\xf3n recibe la notificaci\xf3n al instante."}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-neutral-600",children:[(0,d.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-lg bg-white px-3 py-2 shadow-sm",children:[(0,d.jsx)(h.obD,{className:"h-4 w-4 text-[#fdca00]"})," Listo en minutos"]}),(0,d.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-lg bg-white px-3 py-2 shadow-sm",children:[(0,d.jsx)(h.MxO,{className:"h-4 w-4 text-[#fdca00]"})," 10% off en efectivo"]})]})]}),(0,d.jsxs)("div",{className:"flex w-full flex-1 flex-col gap-3 rounded-2xl border border-neutral-200 bg-white p-6 shadow-[0_1px_2px_rgba(0,0,0,0.06)] md:max-w-sm",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"\xbfC\xf3mo funciona?"}),(0,d.jsxs)("ol",{className:"space-y-3 text-sm text-neutral-600",children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("strong",{children:"1."})," Eleg\xed tu caf\xe9 preferido."]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("strong",{children:"2."})," Defin\xed la cantidad y el m\xe9todo de pago."]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("strong",{children:"3."})," Confirm\xe1 y esper\xe1 la notificaci\xf3n de recepci\xf3n."]})]}),(0,d.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center gap-2 rounded-lg bg-[#fdca00] px-4 py-2 text-sm font-semibold text-neutral-900 shadow-[0_10px_40px_-10px_rgba(253,202,0,0.6)] transition hover:bg-[#f1be00]",onClick:()=>{let a=document.getElementById("productos-listado");a?.scrollIntoView({behavior:"smooth"})},children:["Ver men\xfa",(0,d.jsx)(h.Z0P,{className:"h-4 w-4"})]})]})]})}),(0,d.jsxs)("main",{className:"mx-auto max-w-screen-xl px-6 pb-24",id:"productos-listado",children:[(0,d.jsxs)("header",{className:"flex flex-col gap-2 pt-16 pb-8 text-center",children:[(0,d.jsx)("h2",{className:"text-3xl font-bold text-neutral-900 md:text-4xl",children:"Seleccion\xe1 tu caf\xe9"}),(0,d.jsx)("p",{className:"mx-auto max-w-2xl text-neutral-600",children:"Nuestros baristas preparan cada bebida con granos reci\xe9n molidos. Pod\xe9s pagar con Mercado Pago o en efectivo con descuento exclusivo para coworkers."})]}),q&&(0,d.jsx)("div",{className:"mx-auto mb-8 max-w-screen-md rounded-lg border border-[#fdca00]/40 bg-[#fff7d1] px-4 py-3 text-sm text-neutral-800",children:q}),u?(0,d.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((a,b)=>(0,d.jsxs)("div",{className:"animate-pulse rounded-2xl border border-neutral-200 bg-white p-6 shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[(0,d.jsx)("div",{className:"mb-4 h-40 w-full rounded-xl bg-neutral-100"}),(0,d.jsx)("div",{className:"mb-3 h-4 w-2/3 rounded bg-neutral-200"}),(0,d.jsx)("div",{className:"mb-6 h-4 w-1/2 rounded bg-neutral-200"}),(0,d.jsx)("div",{className:"h-10 w-full rounded-lg bg-neutral-200"})]},b))}):0===s.length?(0,d.jsx)("div",{className:"rounded-2xl border border-dashed border-neutral-300 bg-white p-12 text-center text-neutral-500",children:"A\xfan no hay productos disponibles. Volv\xe9 m\xe1s tarde o avis\xe1 a recepci\xf3n."}):(0,d.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(a=>(0,d.jsxs)("article",{className:"group flex flex-col justify-between rounded-2xl border border-transparent bg-white p-6 shadow-[0_10px_30px_-20px_rgba(0,0,0,0.45)] transition hover:-translate-y-1 hover:border-[#fdca00]",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"relative mb-5 overflow-hidden rounded-xl border border-neutral-200 bg-neutral-100",children:a.image?(0,d.jsx)(e.default,{src:a.image,alt:a.name,width:400,height:160,className:"h-40 w-full object-cover transition duration-300 group-hover:scale-105",unoptimized:!0}):(0,d.jsx)("div",{className:"flex h-40 items-center justify-center text-neutral-400",children:(0,d.jsx)(i.Hpk,{className:"h-10 w-10"})})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",children:a.name}),(0,d.jsx)("p",{className:"mt-2 text-sm text-neutral-500",children:a.description??"Preparado con nuestros granos seleccionados para que disfrutes cada pausa."})]}),(0,d.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xl font-bold text-neutral-900",children:l(a.price)}),(0,d.jsxs)("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg bg-neutral-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-neutral-800",onClick:()=>{z(a),j(a._id),x(!0),n(1),p("mercadopago"),B(""),r(null)},children:["Pedir ahora",(0,d.jsx)(h.Z0P,{className:"h-4 w-4"})]})]})]},a._id))})]}),w&&(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-neutral-900/70 px-4",children:(0,d.jsxs)("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-neutral-200 bg-white shadow-[0_40px_80px_-40px_rgba(0,0,0,0.45)]",children:[(0,d.jsx)("button",{className:"absolute right-5 top-5 text-2xl text-neutral-400 transition hover:text-neutral-700",onClick:()=>{x(!1),B("")},"aria-label":"Cerrar",children:"\xd7"}),(0,d.jsxs)("div",{className:"grid gap-8 p-8 md:grid-cols-[280px_1fr]",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-5 rounded-2xl bg-neutral-50 p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col items-center text-center",children:[y?.image?(0,d.jsx)(e.default,{src:y.image,alt:y.name,width:160,height:160,className:"h-40 w-40 rounded-2xl border border-neutral-200 object-cover",unoptimized:!0}):(0,d.jsx)("div",{className:"flex h-40 w-40 items-center justify-center rounded-2xl border border-neutral-200 bg-white text-neutral-400",children:(0,d.jsx)(i.Hpk,{className:"h-10 w-10"})}),(0,d.jsx)("p",{className:"mt-4 text-xs font-semibold uppercase tracking-[0.3em] text-neutral-400",children:"Paso final"}),(0,d.jsx)("h2",{className:"mt-2 text-2xl font-bold text-neutral-900",children:a?.user?.name?`Hola, ${a.user.name.split(" ")[0]}!`:"Confirm\xe1 tu caf\xe9"}),(0,d.jsxs)("p",{className:"mt-2 max-w-[16rem] text-sm text-neutral-600",children:["Estamos preparando ",(0,d.jsx)("strong",{children:y?.name}),". Ajust\xe1 los detalles y avisamos a recepci\xf3n."]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 rounded-xl border border-neutral-200 bg-white p-4",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-neutral-800",children:"Resumen r\xe1pido"}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm text-neutral-600",children:[(0,d.jsx)("span",{children:"Precio unitario"}),(0,d.jsx)("span",{className:"font-semibold text-neutral-900",children:l(C.precioConDescuento)})]}),"efectivo"===o&&(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs text-[#b07a00]",children:[(0,d.jsx)("span",{children:"Incluye 10% OFF por efectivo"}),(0,d.jsx)("span",{children:l(C.precioUnitario)})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between border-t border-dashed border-neutral-200 pt-3 text-base font-semibold text-neutral-900",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsx)("span",{children:l(C.totalConDescuento)})]}),(0,d.jsx)("p",{className:"text-xs text-neutral-500",children:"Recepci\xf3n recibe este resumen y tu nota al instante."})]})]}),(0,d.jsx)("div",{className:"flex flex-col gap-6",children:a?(0,d.jsxs)("form",{onSubmit:D,className:"flex flex-col gap-6",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-neutral-800",children:"Cantidad"}),(0,d.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[(0,d.jsx)("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-lg bg-white text-neutral-600 transition hover:bg-neutral-100 hover:text-neutral-900",onClick:()=>n(a=>a>1?a-1:1),"aria-label":"Disminuir cantidad",children:(0,d.jsx)(h.iu5,{})}),(0,d.jsx)("div",{className:"flex flex-1 items-center justify-center rounded-lg bg-white px-6 py-2 text-base font-semibold text-neutral-900",children:m}),(0,d.jsx)("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-lg bg-white text-neutral-600 transition hover:bg-neutral-100 hover:text-neutral-900",onClick:()=>n(a=>a+1),"aria-label":"Aumentar cantidad",children:(0,d.jsx)(h.OiG,{})})]})]}),(0,d.jsxs)("fieldset",{className:"flex flex-col gap-3",children:[(0,d.jsx)("legend",{className:"text-sm font-semibold text-neutral-800",children:"M\xe9todo de pago"}),(0,d.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:k.map(a=>{let b=a.icon,c=o===a.value;return(0,d.jsxs)("button",{type:"button",onClick:()=>p(a.value),className:`flex h-full flex-col justify-between rounded-xl border p-4 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[#fdca00] ${c?"border-[#fdca00] bg-[#fff7d1]":"border-neutral-200 bg-white hover:border-neutral-300"}`,"aria-pressed":c,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-base font-semibold text-neutral-900",children:a.label}),(0,d.jsx)("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${c?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-600"}`,children:a.badge})]}),(0,d.jsxs)("p",{className:"mt-3 flex items-center gap-2 text-sm text-neutral-600",children:[(0,d.jsx)(b,{className:"h-5 w-5 text-[#fdca00]"}),a.helper]}),(0,d.jsxs)("span",{className:"sr-only",children:["Seleccionar ",a.label]})]},a.value)})})]}),(0,d.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-semibold text-neutral-800",htmlFor:"nota-pedido",children:["Nota para recepci\xf3n (opcional)",(0,d.jsx)("textarea",{id:"nota-pedido",className:"min-h-[80px] rounded-lg border border-neutral-300 px-4 py-3 text-sm text-neutral-900 placeholder:text-neutral-400 focus:border-[#fdca00] focus:outline-none",placeholder:"Ej: sin az\xfacar, agregar hielo, entregar en sala Norte",value:A,onChange:a=>B(a.target.value),maxLength:200})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-neutral-200 bg-neutral-50 p-4 text-xs text-neutral-500",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-neutral-800",children:"Antes de confirmar"}),(0,d.jsx)("p",{children:"Revis\xe1 la cantidad y el m\xe9todo de pago. Si eleg\xeds Mercado Pago te redirigimos al link seguro. Si pag\xe1s en efectivo, abon\xe1s al retirar en recepci\xf3n."})]}),(0,d.jsxs)("button",{className:"inline-flex items-center justify-center gap-2 rounded-lg bg-neutral-900 px-5 py-3 text-base font-semibold text-white transition hover:bg-neutral-800",type:"submit",children:["Confirmar pedido",(0,d.jsx)(h.Z0P,{className:"h-4 w-4"})]})]}):(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,d.jsx)("p",{className:"text-sm text-neutral-600",children:"Inici\xe1 sesi\xf3n para completar tu pedido."}),(0,d.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-lg bg-[#fdca00] px-6 py-3 text-base font-semibold text-neutral-900 shadow-[0_10px_40px_-10px_rgba(253,202,0,0.6)] transition hover:bg-[#f1be00]",onClick:()=>(0,g.signIn)(),children:["Iniciar sesi\xf3n",(0,d.jsx)(h.Z0P,{className:"h-4 w-4"})]})]})})]}),q&&(0,d.jsx)("div",{className:"border-t border-neutral-200 bg-neutral-50 px-8 py-4 text-center text-sm text-neutral-600",children:q})]})})]})}},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},91645:a=>{"use strict";a.exports=require("net")},92373:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(65239),e=c(48088),f=c(47220),g=c(81289),h=c(26191),i=c(14823),j=c(71998),k=c(92603),l=c(54649),m=c(32781),n=c(82602),o=c(61268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(26713),u=c(43365),v=c(71454),w=c(67778),x=c(46143),y=c(39105),z=c(38171),A=c(86439),B=c(16133),C=c.n(B),D=c(30893),E=c(52836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["pedidos",{children:["realizar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,16800)),"/Users/hernandofarias/Code/it4w/laofi-new/laofi2/src/app/pedidos/realizar/page.tsx"]}]},{}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,70440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,94431)),"/Users/hernandofarias/Code/it4w/laofi-new/laofi2/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,16133,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,80849,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,29868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,79615,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,70440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,H=["/Users/hernandofarias/Code/it4w/laofi-new/laofi2/src/app/pedidos/realizar/page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/pedidos/realizar/page",pathname:"/pedidos/realizar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/pedidos/realizar/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},94735:a=>{"use strict";a.exports=require("events")},96253:(a,b,c)=>{Promise.resolve().then(c.bind(c,82564))}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[73,940,587,729,401],()=>b(b.s=92373));module.exports=c})();